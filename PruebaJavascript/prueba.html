<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="fichero.js"></script>
</head>

<body>
    <script>
        //Pruebas de variables
        let valor = 10;
        valor = 'hola'; //Esto con TypeScript no lo dejaría por haber tipos en la definición

        //Uso de una función desde fichero.js
        // adivinaNumeroTS();

        //Ejemplo de funciones y paso a función arrow
        // function suma(a,b){
        //     return a+b;
        // }
        // console.log(suma(3,4));

        // let suma2=(a,b) => {return a+b}
        // console.log(suma2(3,4));

        // let suma3=(a,b) => a+b
        // console.log(suma3(3,4));

        // let suma4=(a,b) => a+b
        // console.log(suma4(3));

        // function ejemplo(a, b, ...restParams) {
        //     console.log(a);
        //     console.log(b);
        //     console.log(restParams);
        //     let variable = restParams;
        //     console.log(variable[0]);
        // }
        // ejemplo(1, 34, 'hola', 34, 'adiós');

        // let vector = [1, 2,
        //     {
        //         nombre: 'domingo',
        //         edad: 39,
        //         formacion: 'doctor en informática   '
        //     }, 4, 5, 6, 7, 8];
        // ejemplo(...vector);

        const request = async (id) => {
            try {
                const response = await fetch("https://jsonplaceholder.typicode.com/posts/"+id);
                const data = await response.json();
                return data;
            } catch (error) {
                console.error("Error al realizar la petición o procesar los datos: ", error);
            }
        }
        let datos=request(1);
        console.log(datos);
        
        
        const fetchData = async (id) => {
    //Para usar await la función tiene que usar async
    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);
    const data = await res.json();
    const pokemon = {
      numero: data.id,
      img: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${data.id}.png`,
      imgJuego: data.sprites.front_default,
      imgCvg: data.sprites.other.dream_world.front_default,
      nombre: data.name,
      experiencia: data.base_experience,
      hp: data.stats[0].base_stat,
      ataque: data.stats[1].base_stat,
      defensa: data.stats[2].base_stat,
      especial: data.stats[3].base_stat,
    };
    return pokemon;
       
  };
  

  async function resolveJSON(){
            let json = await fetchData(2);//await request(1); // waits for the promise to fulfill
            console.log(json);
        }      
        resolveJSON();
    </script>


</body>

</html>